/*
Item Name : Universal Mega Menu
Item URI : http://codecanyon.net/item/universal-responsive-mega-menu/4984236
Author URI : http://codecanyon.net/user/Pixelworkshop/
Version : 1.1
*/


(function(e){e.universalMegaMenu=function(t,n){function b(){var t=e(this);switch(r.menu_effect){case"hover_fade":t.children(h).fadeIn(r.menu_speed_show);break;case"hover_slide":t.children(h).slideDown(r.menu_speed_show);break;case"click_fade":t.click(function(){t.children(h).fadeIn(r.menu_speed_show)});break;case"click_slide":t.click(function(){t.children(h).slideDown(r.menu_speed_show)});break}}function w(){var t=e(this);switch(r.menu_effect){case"hover_fade":case"click_fade":t.find(h).fadeOut(r.menu_speed_hide);break;case"hover_slide":case"click_slide":t.find(h).slideUp(r.menu_speed_hide);break}}var r={menu_effect:"hover_fade",menu_speed_show:300,menu_speed_hide:200,menu_speed_delay:200,menu_click_outside:true,menubar_trigger:true,menubar_hide:false,menu_responsive:true};var i=this;i.options={};var s=e(t);var t=t;var o=s.children(".mgmenu"),u=e(o).children("li"),a=e(u).find(".dropdown_container, .dropdown_fullwidth"),f=e(u).find(".dropdown_parent"),l=e(f).find(".dropdown_flyout_level"),c=e(u).add(f),h=e(a).add(l);i.init=function(){r=e.extend(1,r,n);hoverIntentConfig={sensitivity:2,interval:r.menu_speed_delay,over:b,timeout:200,out:w};p();g();y();if(r.menu_click_outside===true){v()}if(r.menubar_trigger===true){megamenuBarHide=r.menubar_hide;m(s)}};var p=function(){d();e(window).resize(function(){d();if(!s.is(":visible")&&e(window).width()<768){s.show(0)}})};var d=function(){e(h).css({display:"block"}).hide(0);e(u).show(0).removeClass("active")};var v=function(){e(t).click(function(t){e("body").click(function(){e(c).removeClass("active");e(h).hide(0)});t.stopPropagation()})};var m=function(t){t.after('<a class="mgmenu_trigger" href="#"></a>');var n=t.next("a");if(megamenuBarHide===true&&e(window).width()>=768){t.hide(0);e(".mgmenu_trigger").toggleClass("active")}n.click(function(){e(this).prev(t).slideToggle(300);e(this).toggleClass("active");return false})};var g=function(){switch(r.menu_effect){case"open_close_fade":var t="fadeToggle",n="fadeOut";break;case"open_close_slide":var t="slideToggle",n="slideUp";break}switch(r.menu_effect){case"hover_fade":case"hover_slide":case"click_fade":case"click_slide":e(u).hoverIntent(hoverIntentConfig);e(f).hoverIntent(hoverIntentConfig);break;case"open_close_fade":case"open_close_slide":e(c).unbind("mouseenter mouseleave").click(function(){var i=e(this);i.siblings().removeClass("active").find(h)[n](r.menu_speed_hide);i.toggleClass("active").find(h).first().delay(r.menu_speed_delay)[t](r.menu_speed_show).click(function(e){e.stopPropagation()})});break}};var y=function(){e(".mgmenu_tabs").each(function(t,n){var r=e(this);menuTabsNav=r.find(".mgmenu_tabs_nav > li > a");menuTabsNav.click(function(){var t=r.find("a.current").attr("href").substring(1),n=e(this),i=n.attr("href").substring(1);if(i!=t&&r.find(":animated").length==0){r.find(".mgmenu_tabs_nav li a").removeClass("current");n.addClass("current");r.find("#"+t).fadeOut(300,function(){r.find("#"+i).fadeIn(300);var e=r.find("#"+i).height()})}return false})})};i.init()};e.fn.universalMegaMenu=function(t){return this.each(function(){if(undefined==e(this).data("megaMenu")){var n=new e.universalMegaMenu(this,t);e(this).data("megaMenu",n)}})}})(jQuery)